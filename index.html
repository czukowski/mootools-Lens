<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Demo of czukowski/mootools-Lens @ GitHub</title>
	<link rel="stylesheet" type="text/css" media="screen" href="styles.css" />
	<script src="mootools-core-1.3.2-full-nocompat-yc.js" type="text/javascript"></script>
	<script src="mootools-more-1.3.2.1.js" type="text/javascript"></script>
	<script src="Source/lens.js" type="text/javascript"></script>
	<style type="text/css">
		.red-square {
			width: 10px;
			height: 10px;
			background: red;
		}
		.big {
			width: 20px;
			height: 20px;
		}
	</style>
	<script type="text/javascript">
		window.addEvent('domready', function() {
			var pane = new Element.Pane('lens-pane', {
				offset: {x: 350, y: 250},
				//scale: {x: 10, y: 10},
				filter: new Element.Pane.Transform.Lens.Orthographic(100)
			});

			for (var i = -450; i < 450; i += 170) {
				for (var j = -350; j < 350; j += 50) {
					pane.add(new Element('img[src=http://mootools.net/assets/images/mootools.png]'), [i, j, 1]);
				}
			}
/*			for (var i = -450; i < 450; i += 50) {
				for (var j = -350; j < 350; j += 50) {
					pane.add('div.red-square', [i, j, 1]);
				}
			}
*/			//pane.render();

//			var counter = 0, max = 700;
//			var timer = (function() {
//				counter++;
//				if (counter > max) window.clearInterval(timer);
//				pane.options.filter.f += 1;
//				pane.render();
//			}).periodical(100);

			var slider = $('slider');

			new Slider(slider, slider.getElement('.knob'), {
				range: [1, 1000],
				initialStep: 1,
				steps: 1000,
				onChange: function(value){
					if (value) {
						pane.options.filter.f = value;
						pane.render();
					}
				}
			});
/*
			var el = new Element('div.red-square');
			pane.add(el, [0,0,0]);
			pane.render();
			el.addClass('big');
			
			var counter = 0, max = 700;
			var timer = (function() {
				counter++;
				if (counter > max) window.clearInterval(timer);
				pane.options.offset.x += 1;
				pane.render();
			}).periodical(50);
*/
		});
	</script>
</head>
<body>
	<a href="http://github.com/czukowski/mootools-Lens">
		<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" />
	</a>
	<div id="container">
		<div class="download">
			<a href="http://github.com/czukowski/mootools-Lens/zipball/master">
				<img width="90" src="http://github.com/images/modules/download/zip.png">
			</a>
			<a href="http://github.com/czukowski/mootools-Lens/tarball/master">
				<img width="90" src="http://github.com/images/modules/download/tar.png">
			</a>
		</div>
		<h1>
			<a href="index.html">mootools-Lens</a>
		</h1>
		<div id="lens-pane">
			
		</div>
		<div id="slider" class="slider">
			<div class="knob"></div>
		</div>
		<p>Use the slider above to change system focal length.</p>
		<h2>Download</h2>
		<p>
			You can download this project in either
			<a href="http://github.com/czukowski/mootools-Lens/zipball/master">zip</a> or
			<a href="http://github.com/czukowski/mootools-Lens/tarball/master">tar</a> formats.
		</p>
		<p>
			You can also clone the project with <a href="http://git-scm.com">Git</a> by running:
			<pre>$ git clone git://github.com/czukowski/mootools-Lens</pre>
		</p>

		<div class="footer">
			get the source code on GitHub : <a href="http://github.com/czukowski/mootools-Lens">czukowski/mootools-Lens</a>
		</div>
	</div>
</body>
</html>